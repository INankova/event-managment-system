<!DOCTYPE html>
<html lang="bg" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–æ–ª–∏—á–∫–∞ - TicketWave</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" type="text/css" href="/css/shopping-cart.css">
</head>
<body>
<header class="header">
    <div class="ticket-header animate-slide">
        <h1>üéüÔ∏è Shopping Cart</h1>
    </div>
</header>

<main class="cart-page">
    <section class="cart-items">
        <!-- –¶–∏–∫—ä–ª –∑–∞ –≤—Å–µ–∫–∏ –∞—Ä—Ç–∏–∫—É–ª –≤ –∫–æ–ª–∏—á–∫–∞—Ç–∞ -->
        <article class="cart-item animate-slide" th:each="item : ${cart.items}">
            <div class="item-details">
                <header class="event-header">
                    <h2 th:text="${item.event.title}">Imagine Dragons: Mercury World Tour</h2>
                    <span class="event-category concert" th:text="${item.event.category}">–ö–æ–Ω—Ü–µ—Ä—Ç</span>
                </header>

                <dl class="event-meta">
                    <div class="meta-item">
                        <dt><i class="fas fa-calendar-day" aria-hidden="true"></i> –î–∞—Ç–∞:</dt>
                        <dd th:text="${#temporals.format(item.event.dateTime, 'dd MMMM yyyy')}">15 –æ–∫—Ç–æ–º–≤—Ä–∏ 2024</dd>
                    </div>
                    <div class="meta-item">
                        <dt><i class="fas fa-map-marker-alt" aria-hidden="true"></i> –ú—è—Å—Ç–æ:</dt>
                        <dd th:text="${item.event.location}">–ù–∞—Ü–∏–æ–Ω–∞–ª–µ–Ω —Å—Ç–∞–¥–∏–æ–Ω, –°–æ—Ñ–∏—è</dd>
                    </div>
                </dl>

                <div class="item-controls">
                    <!-- –§–æ—Ä–º–∞ –∑–∞ –Ω–∞–º–∞–ª—è–≤–∞–Ω–µ –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ—Ç–æ -->
                    <form th:action="@{/cart/decrease-quantity}" method="post" class="quantity-controls">
                        <input type="hidden" name="eventId" th:value="${item.event.id}">
                        <button type="submit" class="btn-quantity" aria-label="–ù–∞–º–∞–ª–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ">
                            <i class="fas fa-minus"></i>
                        </button>
                    </form>

                    <!-- –ü–æ–∫–∞–∑–≤–∞–Ω–µ –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ—Ç–æ -->
                    <span class="quantity" th:text="${item.quantity}"></span>

                    <!-- –§–æ—Ä–º–∞ –∑–∞ —É–≤–µ–ª–∏—á–∞–≤–∞–Ω–µ –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ—Ç–æ -->
                    <form th:action="@{/cart/increase-quantity}" method="post" class="quantity-controls">
                        <input type="hidden" name="eventId" th:value="${item.event.id}">
                        <button type="submit" class="btn-quantity" aria-label="–£–≤–µ–ª–∏—á–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ">
                            <i class="fas fa-plus"></i>
                        </button>
                    </form>

                    <!-- –§–æ—Ä–º–∞ –∑–∞ –ø—Ä–µ–º–∞—Ö–≤–∞–Ω–µ –Ω–∞ –∞—Ä—Ç–∏–∫—É–ª–∞ -->
                    <form th:action="@{/cart/remove-item}" method="post" class="price-container">
                        <input type="hidden" name="eventId" th:value="${item.event.id}">
                        <span class="price" th:text="${item.event.price * item.quantity} + ' –ª–≤'">120.00 –ª–≤</span>
                        <button type="submit" class="btn-remove" aria-label="–ü—Ä–µ–º–∞—Ö–Ω–∏ –æ—Ç –∫–æ–ª–∏—á–∫–∞">
                            <i class="fas fa-times"></i>
                        </button>
                    </form>
                </div>
            </div>
        </article>
    </section>

    <aside class="cart-summary animate-slide">
        <div class="summary-ticket">
            <h2 class="summary-title">–î–µ—Ç–∞–π–ª–∏ –Ω–∞ –ø–æ—Ä—ä—á–∫–∞—Ç–∞</h2>

            <div class="total-line">
                <span>–ú–µ–∂–¥–∏–Ω–Ω–∞ —Å—É–º–∞:</span>
                <span th:text="${totalPrice} + ' –ª–≤'">240.00 –ª–≤</span>
            </div>
            <div class="total-line">
                <span>–¢–∞–∫—Å–∏ –æ–±—Å–ª—É–∂–≤–∞–Ω–µ:</span>
                <span>12.00 –ª–≤</span>
            </div>
            <div class="total-line main-total">
                <span>–û–±—â–æ:</span>
                <span class="total-price" th:text="${totalPrice + 12} + ' –ª–≤'">252.00 –ª–≤</span>
            </div>

            <section class="payment-options" aria-label="–ù–∞—á–∏–Ω–∏ –Ω–∞ –ø–ª–∞—â–∞–Ω–µ">
                <h3>–ü–æ–¥–¥—ä—Ä–∂–∞–Ω–∏ –º–µ—Ç–æ–¥–∏:</h3>
                <div class="payment-icons">
                    <i class="fab fa-cc-visa" aria-hidden="true"></i>
                    <i class="fab fa-cc-mastercard" aria-hidden="true"></i>
                    <i class="fab fa-cc-paypal" aria-hidden="true"></i>
                </div>
            </section>

            <form th:action="@{/cart/checkout}" method="post">
                <input type="hidden" name="userId" th:value="${currentUser.id}">
                <button type="submit" class="btn-checkout">
                    –°–∏–≥—É—Ä–Ω–æ –ø–ª–∞—â–∞–Ω–µ
                    <i class="fas fa-lock" aria-hidden="true"></i>
                </button>
            </form>
        </div>
    </aside>
</main>
</body>
</html>